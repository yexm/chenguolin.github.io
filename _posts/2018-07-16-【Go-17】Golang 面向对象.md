---
layout:  post    # 使用的布局（不需要改）
catalog: true   # 是否归档
author: 陈国林 # 作者
tags:         #标签
    - Go
---

# 一. 概述
我们都知道 C++、Java 等高级语言最重要的特性是 `面向对象` [oo-principles](https://www.d.umn.edu/~gshute/softeng/presentations/oo-principles.xhtml)，面向对象最重要的三个特征是 `封装、继承、多态`，具体三个特征的含义如下。

1. `封装 (Encapsulation)`: 封装机制对于减少软件组件之间的耦合至关重要，主要的作用有以下2点
     + 访问控制: 阻止一个对象访问另外一个对象的内部状态
     + 命名空间隔离: 在不同的 命名空间/作用域 内允许有相同的命名
2. `继承 (Inheritance)`: 它可以使用现有对象所有功能，并在无需重新编写原来对象的情况下对这些功能进行扩展，主要有以下2类继承
     + 实现继承: 指直接使用基类的属性和方法而无需额外编码的能力
     + 接口继承: 指仅使用属性和方法的名称、但是子类必须提供实现的能力
3. `多态 (Polymorphism)`: 指一个类实例的相同方法在不同情形有不同表现形式，多态机制使具有不同内部结构的对象可以共享相同的外部接口。

从上面3个特征描述，我们知道一门编程语言到底是不是面向对象很重要的是是否有 `类` 这种类型。Golang 是没有 `类` 的，那Golang是否是面向对象的编程语言呢？
我们先来看下 Go 官方的 FAQ [Is Go an object-oriented language?](https://golang.org/doc/faq#Is_Go_an_object-oriented_language)

```
Yes and no. Although Go has types and methods and allows an object-oriented style of programming, there is no type hierarchy. The concept of “interface” in Go provides a different approach that we believe is easy to use and in some ways more general. There are also ways to embed types in other types to provide something analogous—but not identical—to subclassing. Moreover, methods in Go are more general than in C++ or Java: they can be defined for any sort of data, even built-in types such as plain, “unboxed” integers. They are not restricted to structs (classes).

Also, the lack of a type hierarchy makes “objects” in Go feel much more lightweight than in languages such as C++ or Java.
```

从上面的回答可以知道 `Go到底是不是一门面向对象编程语言呢，可以说是也不是。`，那这篇文章就来分析一下 Golang 面向对象。

# 二. 封装
在面向对象中 `封装` 被定义为将数据和操作它们的函数绑定在一起，我们先来看一下 C++ 的一个例子。在 C++ 中，我们可以通过 class 和 访问控制模式来实现封装。

这个例子把相关字段和函数绑定在 Encapsulation class里面，并且通过 private和public 控制访问权限，从而达到封装目的。

```
// c++ program to explain
// Encapsulation

#include<iostream>
using namespace std;

class Encapsulation {
    private:
        // data hidden from outside world
        int x;

    public:
        // function to set value of
        // variable x
        void set(int a) {
            x =a;
        }
        
        // function to return value of
        // variable x
        int get() {
            return x;
        }
};

// main function
int main() {
    Encapsulation obj;
    obj.set(5);
    cout<<obj.get();
    return 0;
}
```

对应的 Golang 没有class 类型，但是我们通过以下几个特性来实现封装

1. 按package进行隔离，不同package允许有相同的命名的变量、类型、函数等 (类似c++的namespace)
2. 在package内根据变量、类型、函数的首字母进行权限控制，如果是大写字母则允许在package外进行访问，如果是小写字母只允许在package内进行访问 (类似C++的private和public)
3. 


# 三. 继承

# 四. 多态


